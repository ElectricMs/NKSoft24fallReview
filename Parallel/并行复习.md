# 并行复习 24fall

- 单选及填空（27）
- 多选（15分）
- 判断（10分）
- 简答（18分）
- 按要求写相应代码（30分）

## 绪论

**推动并行计算的原因**

单核CPU性能提升有限，多核发展成为趋势，并行架构更容易设计，可以充分利用资源，同时有着巨大的功耗优势。

**了解并行计算应用**

科学仿真、建模、动画渲染、天文学、人工智能等。

**超算**



**并行计算软件技术面临的挑战**

数据通信代价高、能耗高、伸缩性挑战（相同的程序在新一代硬件架构下仍能高效运行）、可靠性



## 并行硬件和并行软件

### Cache相关

局部性原理

一次内存访问能存取一整块代码和数据， 而不只是单条指令或单个数据。这些块称 为高速缓存块或高速缓存行。

### 并行多线程相关

指令级并行(ILP)：通过让多个处理器或者功能单元同时执行指令来提高处理器的性能。

流水线：将功能单元分阶段安排

多发射：让多条指令同时启动

超标量：在预测技术中，编译器或者处理器对一条指令进行猜测，然后在猜测的基础上执行代码。

细粒度：处理器在每条指令执行完后切换线程，从而跳过被阻塞的线程

粗粒度：只切换那些需要等待较长时间才能完成操作而被阻塞的线程

### Flynn分类法

 (SIMD) 单指令多数据流 (Single instruction stream Multiple data stream)

- 通过将数据分配给多个处理器实现并行化，使用相同的指令来操作数据子集，这种并行称为数据并行
- 向量处理器:对数组或者数据向量进行操作，而传统地CPU是对单独的数据元素或者标量进行操作

 (MIMD) 多指令多数据流 (Multiple instruction stream Multiple data stream)

共享内存\分布式内存\网络连接等

- 支持同时多个指令流在多个数据流上操作
- 通常包括一组完全独立的处理单元或者核，每个处理单元或者核都有自己的控制单元和ALU
- **共享内存系统：**一组自治的处理器通过互连网络与内存系统相互连接，每个处理器能够访问每个内存区域，处理器通过访问共享的数据结构来隐式地通信（一致内存访问系统、非一致内存访问系统两张图）
- **分布式内存（再看看）**
- Cache一致性，基于目录



### 并行算法设计

竞争条件\数据依赖\同步



### 并行算法性能分析

加速比\效率\可扩展性\阿姆达尔定律

- **加速比 S**  = 最优串行算法时间/并行算法时间
- 并行算法运行于p个处理器，S=p, 则称该并行算法具有线性加速比； S>p (超线性加速比)在实践中是可能出现的
- **阿姆达尔定律(Amdahl’s law)：**S = 1 / (1 - a + a / p) ，a为串行程序中可被(完美)并行化的比例
- 效率 E = S / p
- **可扩展性：**增加程序核数(线程数/进程数)，如果在输入规模也以相应增长率增加的情况下，该程序的效率一直是E(不降)，则称该程序是可扩展的。

## SIMD编程









## Pthread编程







## OpenMP编程













## MPI编程

















## CUDA编程























